import re
from pprint import pprint


def do_arithmetic(op, x, num_lists):
    """Step 5. perform operation on each number in each number list by x"""
    result_num_lists = []
    for num_list in num_lists:
        result_num_lists.append([])
        for num in num_list:
            n = float(re.search("\d+\.*\d*", num).group())
            exec("result_num_lists[-1].append(n {} x)".format(op))
            if str(result_num_lists[-1][-1]).endswith(".0"):
                result_num_lists[-1][-1] = int(result_num_lists[-1][-1])
    return result_num_lists


if __name__ == "__main__":
    pprint(do_arithmetic("*", 2, [
        ['λ18λ', 'λ1λ', 'λ90λ', 'λ6λ', 'λ40λ', 'λ1180λ'],
        ['λ1λ', 'λ4λ', 'λ15λ', 'λ24λ', 'λ480λ'],
        ['λ3λ', 'λ6λ', 'λ7λ'],
        ['λ1λ', 'λ25λ', 'λ10λ', 'λ85λ', 'λ20λ', 'λ5λ'],
        [],
        ['λ20λ'],
        ['λ40λ'],
        ['λ1λ',
         'λ18λ',
         'λ300λ',
         'λ15λ',
         'λ6λ',
         'λ100λ',
         'λ299λ',
         'λ12λ',
         'λ400λ',
         'λ600λ',
         'λ320λ',
         'λ20λ',
         'λ5λ'],
        ['λ1λ', 'λ15λ', 'λ6λ', 'λ370λ', 'λ50λ', 'λ30λ', 'λ20λ'],
        ['λ1λ', 'λ15λ', 'λ420λ', 'λ24λ', 'λ12λ'],
        ['λ6λ', 'λ5λ', 'λ4λ', 'λ207λ'],
        ['λ1λ', 'λ420λ', 'λ15λ', 'λ6λ', 'λ30λ', 'λ150λ', 'λ5λ', 'λ20λ', 'λ180λ'],
        ['λ18λ', 'λ5λ', 'λ2λ', 'λ1λ'],
        ['λ5λ', 'λ50λ'],
        ['λ3λ', 'λ21λ', 'λ9λ'],
        ['λ6λ',
         'λ2λ',
         'λ260λ',
         'λ120λ',
         'λ200λ',
         'λ60λ',
         'λ180λ',
         'λ1λ',
         'λ900λ',
         'λ8λ',
         'λ100λ',
         'λ10λ',
         'λ147λ',
         'λ20λ',
         'λ30λ',
         'λ268λ',
         'λ3λ',
         'λ272λ',
         'λ480λ'],
        ['λ140λ', 'λ18λ', 'λ8λ'],
        ['λ4λ',
         'λ25λ',
         'λ1020λ',
         'λ455λ',
         'λ48λ',
         'λ1100λ',
         'λ120λ',
         'λ0λ',
         'λ850λ',
         'λ85λ',
         'λ250λ',
         'λ800λ',
         'λ40λ',
         'λ38λ',
         'λ5λ',
         'λ50.7λ',
         'λ1λ',
         'λ10.5λ',
         'λ20λ',
         'λ480λ'],
        ['λ14λ'],
        ['λ1λ', 'λ16λ', 'λ14λ', 'λ12λ', 'λ350λ', 'λ200λ', 'λ20λ', 'λ22λ', 'λ280λ'],
        ['λ1λ',
         'λ18λ',
         'λ25λ',
         'λ6λ',
         'λ572λ',
         'λ2λ',
         'λ98λ',
         'λ9λ',
         'λ20λ',
         'λ36λ',
         'λ5λ'],
        ['λ21λ',
         'λ4λ',
         'λ720λ',
         'λ6λ',
         'λ16λ',
         'λ2λ',
         'λ24λ',
         'λ0λ',
         'λ10λ',
         'λ253λ',
         'λ26λ',
         'λ9λ',
         'λ280λ']
    ]))
